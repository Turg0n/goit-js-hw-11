{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst myForm = document.querySelector('form');\nconst messageLoad = document.getElementById('searchImageText');\nconst gallery = document.querySelector('.gallery');\n\nlet imageArray;\n\nmyForm.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const searchInput = document.getElementById('searchImage');\n    const inputValue = searchInput.value;\n\n    if (inputValue.trim() === '') {\n    iziToast.info({\n        message: 'Please enter what you want to find!',\n        position: 'topRight',\n        });\n    return;\n    } else {\n    showHidemessageLoad();\n    getImage(inputValue)\n        .then(posts => {\n        imageArray = posts;\n        if (imageArray.length === 0) {\n            showHidemessageLoad();\n            iziToast.error({\n            message:\n                'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            });\n            render();\n            } else {\n            showHidemessageLoad();\n            render();\n            openLightbox();\n        }\n        })\n        .catch(error => {\n        console.log(error);\n        });\n    }\n});\n\nfunction getImage(inputValue) {\n    const API_KEY = '42377778-b3c1271d36d2a7f0c3b2221f8';\n    const URL =\n    'https://pixabay.com/api/?key=' +\n    API_KEY +\n    '&q=' +\n    encodeURIComponent(inputValue) +\n    '&image_type=photo&orientation=horizontal&safe_search=true&per_page=9';\n\n    return fetch(URL)\n    .then(response => {\n        if (!response.ok) {\n        throw new Error(response.status);\n        }\n        return response.json();\n        })\n    .then(posts => {\n        return posts.hits;\n    })\n    .catch(error => {\n        console.log(error);\n        throw error;\n    });\n}\nfunction showHidemessageLoad() {\n    messageLoad.classList.toggle('isHidden');\n}\n\nfunction productTemplate(item) {\n    return `<li class=\"gallery-item\">\n    <a href=\"${item.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" class=\"gallery-image\" />\n    </a>\n    <div class=\"info\">\n        <p class=\"info-item\">\n        <b>Likes:</b> ${item.likes}\n        </p>\n        <p class=\"info-item\">\n        <b>Views:</b> ${item.views}\n        </p>\n        <p class=\"info-item\">\n        <b>Comments:</b> ${item.comments}\n        </p>\n        <p class=\"info-item\">\n        <b>Downloads:</b> ${item.downloads}\n        </p>\n    </div>\n    </li>`;\n};\nfunction productListTemplate() {\n    return imageArray.map(productTemplate).join('');\n};\nfunction render() {\n    const markup = productListTemplate();\n    gallery.innerHTML = markup;\n};\n\nfunction openLightbox() {\n    let options = {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captions: true,\n    };\n\n    let galleryDll = new SimpleLightbox('.gallery a', options);\n    galleryDll.on('show.simplelightbox', function () {});\n    galleryDll.refresh();\n}\n"],"names":["myForm","messageLoad","gallery","imageArray","event","inputValue","iziToast","showHidemessageLoad","getImage","posts","render","openLightbox","error","URL","response","productTemplate","item","productListTemplate","markup","options","galleryDll","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAc,SAAS,eAAe,iBAAiB,EACvDC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAEJH,EAAO,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EAGpB,MAAMC,EADc,SAAS,eAAe,aAAa,EAC1B,MAE/B,GAAIA,EAAW,KAAM,IAAK,GAAI,CAC9BC,EAAS,KAAK,CACV,QAAS,sCACT,SAAU,UAClB,CAAS,EACL,MACJ,MACIC,IACAC,EAASH,CAAU,EACd,KAAKI,GAAS,CACfN,EAAaM,EACTN,EAAW,SAAW,GACtBI,IACAD,EAAS,MAAM,CACf,QACI,2EACJ,SAAU,UACtB,CAAa,EACDI,MAEAH,IACAG,IACAC,IAEZ,CAAS,EACA,MAAMC,GAAS,CAChB,QAAQ,IAAIA,CAAK,CACzB,CAAS,CAET,CAAC,EAED,SAASJ,EAASH,EAAY,CAE1B,MAAMQ,EACN,gCAFgB,qCAIhB,MACA,mBAAmBR,CAAU,EAC7B,uEAEA,OAAO,MAAMQ,CAAG,EACf,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACd,MAAM,IAAI,MAAMA,EAAS,MAAM,EAE/B,OAAOA,EAAS,MACxB,CAAS,EACJ,KAAKL,GACKA,EAAM,IAChB,EACA,MAAMG,GAAS,CACZ,cAAQ,IAAIA,CAAK,EACXA,CACd,CAAK,CACL,CACA,SAASL,GAAsB,CAC3BN,EAAY,UAAU,OAAO,UAAU,CAC3C,CAEA,SAASc,EAAgBC,EAAM,CAC3B,MAAO;AAAA,eACIA,EAAK,aAAa;AAAA,oBACbA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,wBAIhCA,EAAK,KAAK;AAAA;AAAA;AAAA,wBAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,2BAGPA,EAAK,QAAQ;AAAA;AAAA;AAAA,4BAGZA,EAAK,SAAS;AAAA;AAAA;AAAA,UAI1C,CACA,SAASC,GAAsB,CAC3B,OAAOd,EAAW,IAAIY,CAAe,EAAE,KAAK,EAAE,CAClD,CACA,SAASL,GAAS,CACd,MAAMQ,EAASD,IACff,EAAQ,UAAYgB,CACxB,CAEA,SAASP,GAAe,CACpB,IAAIQ,EAAU,CACd,aAAc,MACd,aAAc,IACd,SAAU,EACd,EAEQC,EAAa,IAAIC,EAAe,aAAcF,CAAO,EACzDC,EAAW,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACnDA,EAAW,QAAO,CACtB"}